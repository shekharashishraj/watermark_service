{"ast":null,"code":"var _jsxFileName = \"/Users/ashishrajshekhar/Desktop/ASU/Fall 2025/watermark_service/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { toast, Toaster } from 'react-hot-toast';\nimport styled from 'styled-components';\nimport { FileText, Wifi, WifiOff } from 'lucide-react';\nimport FileUpload from './components/FileUpload';\nimport WatermarkConfig from './components/WatermarkConfig';\nimport VisualPositioning from './components/VisualPositioning';\nimport DownloadSection from './components/DownloadSection';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:5001/api';\nconst WS_URL = 'http://localhost:5001';\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n_c = AppContainer;\nconst Header = styled.header`\n  text-align: center;\n  color: white;\n  margin-bottom: 40px;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin-bottom: 10px;\n  text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  font-size: 1.1rem;\n  opacity: 0.9;\n  font-weight: 300;\n  margin-bottom: 15px;\n`;\n_c4 = Subtitle;\nconst ConnectionStatus = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  font-size: 0.9rem;\n  font-weight: 500;\n  padding: 8px 16px;\n  border-radius: 20px;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  width: fit-content;\n  margin: 0 auto;\n`;\n_c5 = ConnectionStatus;\nconst MainContent = styled.main`\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n_c6 = MainContent;\nconst Card = styled(motion.div)`\n  background: white;\n  border-radius: 16px;\n  padding: 30px;\n  margin-bottom: 30px;\n  box-shadow: 0 10px 30px rgba(0,0,0,0.1);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 15px 40px rgba(0,0,0,0.15);\n  }\n`;\n_c7 = Card;\nconst LoadingOverlay = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0,0,0,0.8);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n`;\n_c8 = LoadingOverlay;\nconst LoadingContent = styled.div`\n  text-align: center;\n  color: white;\n`;\n_c9 = LoadingContent;\nconst Spinner = styled.div`\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(255,255,255,0.3);\n  border-top: 4px solid white;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 20px;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n_c0 = Spinner;\nfunction App() {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [currentFileId, setCurrentFileId] = useState(null);\n  const [watermarks, setWatermarks] = useState([]);\n  const [watermarkCounter, setWatermarkCounter] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState('Processing...');\n  const [showVisualPositioning, setShowVisualPositioning] = useState(false);\n  const [outputFile, setOutputFile] = useState(null);\n\n  // Initialize WebSocket connection\n  useEffect(() => {\n    const newSocket = io(WS_URL);\n    newSocket.on('connect', () => {\n      console.log('Connected to WebSocket server');\n      setIsConnected(true);\n      toast.success('Connected to server');\n    });\n    newSocket.on('disconnect', () => {\n      console.log('Disconnected from WebSocket server');\n      setIsConnected(false);\n      toast.error('Disconnected from server');\n    });\n    newSocket.on('session_joined', data => {\n      console.log('Joined session:', data);\n      setWatermarks(data.watermarks || []);\n    });\n    newSocket.on('watermark_position_updated', data => {\n      console.log('Watermark position updated:', data);\n      setWatermarks(prev => prev.map(w => w.id === data.watermark_id ? {\n        ...w,\n        position: data.position\n      } : w));\n    });\n    newSocket.on('watermark_added', data => {\n      console.log('Watermark added:', data);\n      // Check if watermark already exists\n      setWatermarks(prev => {\n        const exists = prev.find(w => w.id === data.watermark.id);\n        if (!exists) {\n          return [...prev, data.watermark];\n        } else {\n          console.log('Watermark already exists, skipping duplicate');\n          return prev;\n        }\n      });\n    });\n    newSocket.on('watermark_removed', data => {\n      console.log('Watermark removed:', data);\n      setWatermarks(prev => prev.filter(w => w.id !== data.watermark_id));\n    });\n    newSocket.on('watermark_properties_updated', data => {\n      console.log('Watermark properties updated:', data);\n      setWatermarks(prev => prev.map(w => w.id === data.watermark_id ? {\n        ...w,\n        ...data.properties\n      } : w));\n    });\n    setSocket(newSocket);\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n  const showLoading = (message = 'Processing...') => {\n    setLoadingMessage(message);\n    setIsLoading(true);\n  };\n  const hideLoading = () => {\n    setIsLoading(false);\n  };\n  const addWatermark = () => {\n    const newCounter = watermarkCounter + 1;\n    setWatermarkCounter(newCounter);\n    const watermark = {\n      id: `watermark-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      // Ensure unique ID\n      text: 'CONFIDENTIAL',\n      position: 'center',\n      font_size: 24,\n      color: '#000000',\n      opacity: 0.5,\n      rotation: 0,\n      custom_x: '',\n      custom_y: ''\n    };\n    console.log(`Adding watermark with ID: ${watermark.id}`);\n    if (socket && isConnected && currentFileId) {\n      socket.emit('add_watermark', {\n        file_id: currentFileId,\n        watermark: watermark\n      });\n    }\n  };\n  const removeWatermark = watermarkId => {\n    if (socket && isConnected && currentFileId) {\n      socket.emit('remove_watermark', {\n        file_id: currentFileId,\n        watermark_id: watermarkId\n      });\n    }\n  };\n  const updateWatermarkProperty = (watermarkId, property, value) => {\n    if (socket && isConnected && currentFileId) {\n      socket.emit('update_watermark_properties', {\n        file_id: currentFileId,\n        watermark_id: watermarkId,\n        properties: {\n          [property]: value\n        }\n      });\n    }\n  };\n  const applyWatermarks = async () => {\n    if (!currentFileId || watermarks.length === 0) {\n      toast.error('Please upload a file and add watermarks first.');\n      return;\n    }\n    showLoading('Applying watermarks...');\n    try {\n      const response = await fetch(`${API_BASE_URL}/watermark`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          file_id: currentFileId,\n          watermarks: watermarks\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setOutputFile(data.output_file);\n        toast.success(data.message || 'Watermarks applied successfully!');\n      } else {\n        toast.error(data.error || 'Failed to apply watermarks.');\n      }\n    } catch (error) {\n      toast.error('Failed to apply watermarks. Please try again.');\n      console.error('Watermark error:', error);\n    } finally {\n      hideLoading();\n    }\n  };\n  const downloadFile = () => {\n    if (outputFile) {\n      window.open(`${API_BASE_URL}/download/${outputFile}`, '_blank');\n    }\n  };\n  const cleanupFiles = async () => {\n    if (!currentFileId) return;\n    try {\n      await fetch(`${API_BASE_URL}/cleanup`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          file_id: currentFileId\n        })\n      });\n    } catch (error) {\n      console.error('Cleanup error:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AppContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          size: 40\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), \"PDF Watermark Service\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n        children: \"Professional PDF watermarking with real-time drag-and-drop positioning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConnectionStatus, {\n        children: [isConnected ? /*#__PURE__*/_jsxDEV(Wifi, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(WifiOff, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: isConnected ? 'Connected' : 'Disconnected'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MainContent, {\n      children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: [!currentFileId && /*#__PURE__*/_jsxDEV(Card, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: -20\n          },\n          children: /*#__PURE__*/_jsxDEV(FileUpload, {\n            onFileUploaded: (fileId, fileName) => {\n              setCurrentFileId(fileId);\n              if (socket && isConnected) {\n                socket.emit('join_session', {\n                  file_id: fileId\n                });\n              }\n            },\n            apiBaseUrl: API_BASE_URL,\n            showLoading: showLoading,\n            hideLoading: hideLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this), currentFileId && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(WatermarkConfig, {\n              watermarks: watermarks,\n              onAddWatermark: addWatermark,\n              onRemoveWatermark: removeWatermark,\n              onUpdateProperty: updateWatermarkProperty,\n              onApplyWatermarks: applyWatermarks,\n              onShowVisualPositioning: () => setShowVisualPositioning(true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), showVisualPositioning && /*#__PURE__*/_jsxDEV(Card, {\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(VisualPositioning, {\n              watermarks: watermarks,\n              onUpdateProperty: updateWatermarkProperty,\n              onRemoveWatermark: removeWatermark,\n              onClose: () => setShowVisualPositioning(false),\n              currentFileId: currentFileId,\n              apiBaseUrl: API_BASE_URL\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 17\n          }, this), outputFile && /*#__PURE__*/_jsxDEV(Card, {\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(DownloadSection, {\n              outputFile: outputFile,\n              onDownload: downloadFile,\n              onReset: () => {\n                setCurrentFileId(null);\n                setWatermarks([]);\n                setWatermarkCounter(0);\n                setOutputFile(null);\n                setShowVisualPositioning(false);\n                cleanupFiles();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: isLoading && /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(LoadingContent, {\n          children: [/*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: loadingMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 308,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"XvBo+mCQyEOegVlT78Zw8NiS+zk=\");\n_c1 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"AppContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"ConnectionStatus\");\n$RefreshReg$(_c6, \"MainContent\");\n$RefreshReg$(_c7, \"Card\");\n$RefreshReg$(_c8, \"LoadingOverlay\");\n$RefreshReg$(_c9, \"LoadingContent\");\n$RefreshReg$(_c0, \"Spinner\");\n$RefreshReg$(_c1, \"App\");","map":{"version":3,"names":["React","useState","useEffect","io","motion","AnimatePresence","toast","Toaster","styled","FileText","Wifi","WifiOff","FileUpload","WatermarkConfig","VisualPositioning","DownloadSection","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","WS_URL","AppContainer","div","_c","Header","header","_c2","Title","h1","_c3","Subtitle","p","_c4","ConnectionStatus","_c5","MainContent","main","_c6","Card","_c7","LoadingOverlay","_c8","LoadingContent","_c9","Spinner","_c0","App","_s","socket","setSocket","isConnected","setIsConnected","currentFileId","setCurrentFileId","watermarks","setWatermarks","watermarkCounter","setWatermarkCounter","isLoading","setIsLoading","loadingMessage","setLoadingMessage","showVisualPositioning","setShowVisualPositioning","outputFile","setOutputFile","newSocket","on","console","log","success","error","data","prev","map","w","id","watermark_id","position","exists","find","watermark","filter","properties","close","showLoading","message","hideLoading","addWatermark","newCounter","Date","now","Math","random","toString","substr","text","font_size","color","opacity","rotation","custom_x","custom_y","emit","file_id","removeWatermark","watermarkId","updateWatermarkProperty","property","value","applyWatermarks","length","response","fetch","method","headers","body","JSON","stringify","json","output_file","downloadFile","window","open","cleanupFiles","children","fileName","_jsxFileName","lineNumber","columnNumber","size","initial","y","animate","exit","onFileUploaded","fileId","apiBaseUrl","onAddWatermark","onRemoveWatermark","onUpdateProperty","onApplyWatermarks","onShowVisualPositioning","onClose","onDownload","onReset","_c1","$RefreshReg$"],"sources":["/Users/ashishrajshekhar/Desktop/ASU/Fall 2025/watermark_service/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { toast, Toaster } from 'react-hot-toast';\nimport styled from 'styled-components';\nimport { \n  FileText, \n  Wifi,\n  WifiOff\n} from 'lucide-react';\nimport FileUpload from './components/FileUpload';\nimport WatermarkConfig from './components/WatermarkConfig';\nimport VisualPositioning from './components/VisualPositioning';\nimport DownloadSection from './components/DownloadSection';\n\nconst API_BASE_URL = 'http://localhost:5001/api';\nconst WS_URL = 'http://localhost:5001';\n\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst Header = styled.header`\n  text-align: center;\n  color: white;\n  margin-bottom: 40px;\n`;\n\nconst Title = styled.h1`\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin-bottom: 10px;\n  text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n`;\n\nconst Subtitle = styled.p`\n  font-size: 1.1rem;\n  opacity: 0.9;\n  font-weight: 300;\n  margin-bottom: 15px;\n`;\n\nconst ConnectionStatus = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  font-size: 0.9rem;\n  font-weight: 500;\n  padding: 8px 16px;\n  border-radius: 20px;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  width: fit-content;\n  margin: 0 auto;\n`;\n\nconst MainContent = styled.main`\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst Card = styled(motion.div)`\n  background: white;\n  border-radius: 16px;\n  padding: 30px;\n  margin-bottom: 30px;\n  box-shadow: 0 10px 30px rgba(0,0,0,0.1);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 15px 40px rgba(0,0,0,0.15);\n  }\n`;\n\nconst LoadingOverlay = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0,0,0,0.8);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n`;\n\nconst LoadingContent = styled.div`\n  text-align: center;\n  color: white;\n`;\n\nconst Spinner = styled.div`\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(255,255,255,0.3);\n  border-top: 4px solid white;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 20px;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nfunction App() {\n  const [socket, setSocket] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [currentFileId, setCurrentFileId] = useState(null);\n  const [watermarks, setWatermarks] = useState([]);\n  const [watermarkCounter, setWatermarkCounter] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState('Processing...');\n  const [showVisualPositioning, setShowVisualPositioning] = useState(false);\n  const [outputFile, setOutputFile] = useState(null);\n\n  // Initialize WebSocket connection\n  useEffect(() => {\n    const newSocket = io(WS_URL);\n    \n    newSocket.on('connect', () => {\n      console.log('Connected to WebSocket server');\n      setIsConnected(true);\n      toast.success('Connected to server');\n    });\n\n    newSocket.on('disconnect', () => {\n      console.log('Disconnected from WebSocket server');\n      setIsConnected(false);\n      toast.error('Disconnected from server');\n    });\n\n    newSocket.on('session_joined', (data) => {\n      console.log('Joined session:', data);\n      setWatermarks(data.watermarks || []);\n    });\n\n    newSocket.on('watermark_position_updated', (data) => {\n      console.log('Watermark position updated:', data);\n      setWatermarks(prev => prev.map(w => \n        w.id === data.watermark_id \n          ? { ...w, position: data.position }\n          : w\n      ));\n    });\n\n    newSocket.on('watermark_added', (data) => {\n      console.log('Watermark added:', data);\n      // Check if watermark already exists\n      setWatermarks(prev => {\n        const exists = prev.find(w => w.id === data.watermark.id);\n        if (!exists) {\n          return [...prev, data.watermark];\n        } else {\n          console.log('Watermark already exists, skipping duplicate');\n          return prev;\n        }\n      });\n    });\n\n    newSocket.on('watermark_removed', (data) => {\n      console.log('Watermark removed:', data);\n      setWatermarks(prev => prev.filter(w => w.id !== data.watermark_id));\n    });\n\n    newSocket.on('watermark_properties_updated', (data) => {\n      console.log('Watermark properties updated:', data);\n      setWatermarks(prev => prev.map(w => \n        w.id === data.watermark_id \n          ? { ...w, ...data.properties }\n          : w\n      ));\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  const showLoading = (message = 'Processing...') => {\n    setLoadingMessage(message);\n    setIsLoading(true);\n  };\n\n  const hideLoading = () => {\n    setIsLoading(false);\n  };\n\n  const addWatermark = () => {\n    const newCounter = watermarkCounter + 1;\n    setWatermarkCounter(newCounter);\n    \n    const watermark = {\n      id: `watermark-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`, // Ensure unique ID\n      text: 'CONFIDENTIAL',\n      position: 'center',\n      font_size: 24,\n      color: '#000000',\n      opacity: 0.5,\n      rotation: 0,\n      custom_x: '',\n      custom_y: ''\n    };\n\n    console.log(`Adding watermark with ID: ${watermark.id}`);\n\n    if (socket && isConnected && currentFileId) {\n      socket.emit('add_watermark', {\n        file_id: currentFileId,\n        watermark: watermark\n      });\n    }\n  };\n\n  const removeWatermark = (watermarkId) => {\n    if (socket && isConnected && currentFileId) {\n      socket.emit('remove_watermark', {\n        file_id: currentFileId,\n        watermark_id: watermarkId\n      });\n    }\n  };\n\n  const updateWatermarkProperty = (watermarkId, property, value) => {\n    if (socket && isConnected && currentFileId) {\n      socket.emit('update_watermark_properties', {\n        file_id: currentFileId,\n        watermark_id: watermarkId,\n        properties: { [property]: value }\n      });\n    }\n  };\n\n  const applyWatermarks = async () => {\n    if (!currentFileId || watermarks.length === 0) {\n      toast.error('Please upload a file and add watermarks first.');\n      return;\n    }\n\n    showLoading('Applying watermarks...');\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/watermark`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          file_id: currentFileId,\n          watermarks: watermarks\n        })\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setOutputFile(data.output_file);\n        toast.success(data.message || 'Watermarks applied successfully!');\n      } else {\n        toast.error(data.error || 'Failed to apply watermarks.');\n      }\n    } catch (error) {\n      toast.error('Failed to apply watermarks. Please try again.');\n      console.error('Watermark error:', error);\n    } finally {\n      hideLoading();\n    }\n  };\n\n  const downloadFile = () => {\n    if (outputFile) {\n      window.open(`${API_BASE_URL}/download/${outputFile}`, '_blank');\n    }\n  };\n\n  const cleanupFiles = async () => {\n    if (!currentFileId) return;\n\n    try {\n      await fetch(`${API_BASE_URL}/cleanup`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ file_id: currentFileId })\n      });\n    } catch (error) {\n      console.error('Cleanup error:', error);\n    }\n  };\n\n  return (\n    <AppContainer>\n      <Toaster position=\"top-right\" />\n      \n      <Header>\n        <Title>\n          <FileText size={40} />\n          PDF Watermark Service\n        </Title>\n        <Subtitle>\n          Professional PDF watermarking with real-time drag-and-drop positioning\n        </Subtitle>\n        <ConnectionStatus>\n          {isConnected ? <Wifi size={16} /> : <WifiOff size={16} />}\n          <span>{isConnected ? 'Connected' : 'Disconnected'}</span>\n        </ConnectionStatus>\n      </Header>\n\n      <MainContent>\n        <AnimatePresence>\n          {!currentFileId && (\n            <Card\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              <FileUpload\n                onFileUploaded={(fileId, fileName) => {\n                  setCurrentFileId(fileId);\n                  if (socket && isConnected) {\n                    socket.emit('join_session', { file_id: fileId });\n                  }\n                }}\n                apiBaseUrl={API_BASE_URL}\n                showLoading={showLoading}\n                hideLoading={hideLoading}\n              />\n            </Card>\n          )}\n\n          {currentFileId && (\n            <>\n              <Card\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n              >\n                <WatermarkConfig\n                  watermarks={watermarks}\n                  onAddWatermark={addWatermark}\n                  onRemoveWatermark={removeWatermark}\n                  onUpdateProperty={updateWatermarkProperty}\n                  onApplyWatermarks={applyWatermarks}\n                  onShowVisualPositioning={() => setShowVisualPositioning(true)}\n                />\n              </Card>\n\n              {showVisualPositioning && (\n                <Card\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                >\n                  <VisualPositioning\n                    watermarks={watermarks}\n                    onUpdateProperty={updateWatermarkProperty}\n                    onRemoveWatermark={removeWatermark}\n                    onClose={() => setShowVisualPositioning(false)}\n                    currentFileId={currentFileId}\n                    apiBaseUrl={API_BASE_URL}\n                  />\n                </Card>\n              )}\n\n              {outputFile && (\n                <Card\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                >\n                  <DownloadSection\n                    outputFile={outputFile}\n                    onDownload={downloadFile}\n                    onReset={() => {\n                      setCurrentFileId(null);\n                      setWatermarks([]);\n                      setWatermarkCounter(0);\n                      setOutputFile(null);\n                      setShowVisualPositioning(false);\n                      cleanupFiles();\n                    }}\n                  />\n                </Card>\n              )}\n            </>\n          )}\n        </AnimatePresence>\n      </MainContent>\n\n      <AnimatePresence>\n        {isLoading && (\n          <LoadingOverlay\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            <LoadingContent>\n              <Spinner />\n              <p>{loadingMessage}</p>\n            </LoadingContent>\n          </LoadingOverlay>\n        )}\n      </AnimatePresence>\n    </AppContainer>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}